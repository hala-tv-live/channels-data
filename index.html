<!DOCTYPE html>
<html dir="rtl">
<head>
  <meta charset="utf-8">
  <title>هلا TV</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500&family=Roboto:wght@300&display=swap" rel="stylesheet">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Readex+Pro&display=swap');
    body { padding:0; margin:0; user-select:none; list-style:none; background:#fff; }
    h3 { text-align:right; padding-right:60px; padding-top:3px; font-size:medium; font-family: 'Readex Pro', sans-serif; }
    header { background:#26ab56; padding:2px; color:#fff; position:fixed; top:0; height:60px; width:100%; box-shadow: 0 0 7px black; z-index:1; }
    #i2 { position:fixed; top:21px; left:14px; font-size:40px; }
    #i3 { position:fixed; top:16px; left:40px; font-size:40px; }
    img { width:30px; }
    #page { margin-top:75px; width:98%; padding-right:4px; padding-left:2px; }
    #page a { width:110px; border:2px solid #2ecb66; height:140px; display:inline-block; margin-bottom:10px; border-radius:10px; text-decoration:none; }
    #page a img { height:80px; margin-right:6px; width:90%; padding-bottom:4px; }
    #page a p { text-align:center; font-size:13px; font-weight:600; color:#990000; }
    #videoPlayer { width:98%; height:300px; margin:10px 0; background:black; border-radius:10px; }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>

<body>
  <header>
    <i id="i2" class="fa fa-ellipsis-v" style="font-size:20px;color:#fff"></i>
    <i id="i3" style="font-size:30px;color:#fff"><img src="https://i.imgur.com/IUP1A8c.png"></i>
    <h3>عمرو TV</h3>
  </header>

  <video id="videoPlayer" controls autoplay></video>

  <div id="page">
    <a href="javascript:void(0);" data-url="https://raw.githubusercontent.com/hala-tv-live/channels-data/refs/heads/main/channel.m3u8">
      <img src="https://l.top4top.io/p_3048zz4i11.png">
      <p>بى ان سبورت 1</p>
    </a>

    <a href="javascript:void(0);" data-url="https://raw.githubusercontent.com/hala-tv-live/channels-data/refs/heads/main/channel2.ts">
      <img src="https://l.top4top.io/p_3048zz4i11.png">
      <p>بى ان سبورت 2</p>
    </a>

    <!-- أضف قنوات إضافية بنفس الشكل -->
  </div>

  <script>
    const video = document.getElementById('videoPlayer');
    let hls = null;

    function playChannel(url) {
      const proxyUrl = `https://YOUR_DEPLOYED_PROXY_URL/stream?url=${encodeURIComponent(url)}`;
      if (Hls.isSupported()) {
        if (hls) hls.destroy();
        hls = new Hls({ maxBufferLength: 30, maxMaxBufferLength: 60, autoStartLoad: true });
        hls.loadSource(proxyUrl);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
        hls.on(Hls.Events.ERROR, (event, data) => { if (data.fatal) hls.startLoad(); });
      } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = proxyUrl;
        video.addEventListener('loadedmetadata', () => video.play());
      }
    }

    document.querySelectorAll('#page a').forEach(a => {
      a.addEventListener('click', () => {
        const url = a.getAttribute('data-url');
        playChannel(url);
      });
    });

    const first = document.querySelector('#page a');
    if (first) playChannel(first.getAttribute('data-url'));
  </script>
</body>
</html>